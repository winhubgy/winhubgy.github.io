function openSidebar() {
 document.getElementById("sidebar").classList.add("open");
}
function closeSidebar() {
 document.getElementById("sidebar").classList.remove("open");
}
document.addEventListener("click", (event) => {
 const sidebar = document.getElementById("sidebar");
 const openButton = document.querySelector(".open-btn");
 
 if (!sidebar || (!sidebar.contains(event.target) && !(openButton && openButton.contains(event.target)))) {
 sidebar.classList.remove("open");
 }
});
document.addEventListener("DOMContentLoaded", () => {
 const toggleButton = document.createElement("button");
 toggleButton.classList.add("theme-toggle");
 toggleButton.setAttribute("aria-label", "Switch to dark theme");
 toggleButton.setAttribute("aria-expanded", "false");
 toggleButton.textContent = "🌙"; 
 document.body.appendChild(toggleButton);
 
 const savedTheme = localStorage.getItem("theme");
 if (savedTheme) {
 document.documentElement.setAttribute("data-theme", savedTheme);
 document.body.classList.remove("light-mode","dark-mode");
 document.body.classList.add(savedTheme + "-mode");
 toggleButton.textContent = savedTheme === "dark" ? "☀️" : "🌙"; 
 toggleButton.setAttribute("aria-label", `Switch to ${savedTheme === "dark" ? "light" : "dark"} theme`);
 }
 
 toggleButton.addEventListener("click", () => {
 let currentTheme = document.documentElement.getAttribute("data-theme");
 let newTheme = currentTheme === "dark" ? "light" : "dark";
 
 document.documentElement.setAttribute("data-theme", newTheme);
 localStorage.setItem("theme", newTheme);
 
 document.body.classList.remove("light-mode","dark-mode");
 document.body.classList.add(newTheme + "-mode");
 
 toggleButton.textContent = newTheme === "dark" ? "☀️" : "🌙";
 toggleButton.setAttribute("aria-label", `Switch to ${newTheme === "dark" ? "light" : "dark"} theme`);
 toggleButton.setAttribute("aria-expanded", newTheme === "dark");
 });
});
document.addEventListener("DOMContentLoaded", () => {
 var y = document.getElementById("year");
 if (y) { y.textContent = new Date().getFullYear(); }
});
document.addEventListener("DOMContentLoaded", () => {
 const openBtn = document.querySelector(".open-btn");
 const closeBtn = document.querySelector(".close-btn");
 const sidebar = document.getElementById("sidebar");
 if (openBtn && sidebar) {
 openBtn.addEventListener("click", (e) => {
 e.preventDefault();
 sidebar.classList.add("open");
 });
 }
 if (closeBtn && sidebar) {
 closeBtn.addEventListener("click", (e) => {
 e.preventDefault();
 sidebar.classList.remove("open");
 });
 }
});
document.addEventListener("DOMContentLoaded", () => {
 document.querySelectorAll(".services p").forEach(p => {
 if (p.querySelector(".cta-button")) {
 p.classList.add("has-cta");
 }
 });
});